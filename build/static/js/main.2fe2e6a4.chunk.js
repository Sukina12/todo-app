(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{257:function(e,t,n){},290:function(e,t){},292:function(e,t){},306:function(e,t){},308:function(e,t){},336:function(e,t){},338:function(e,t){},339:function(e,t){},344:function(e,t){},346:function(e,t){},352:function(e,t){},354:function(e,t){},373:function(e,t){},385:function(e,t){},388:function(e,t){},411:function(e,t){},435:function(e,t,n){"use strict";n.r(t);var c=n(179),a=n(180),s=n(191),r=n(189),o=n(0),i=n.n(o),l=n(13),u=n.n(l),j=n(7),b=n(20),d=n(41),p=function(e){var t=Object(o.useState)({}),n=Object(j.a)(t,2),c=n[0],a=n[1];return{handleChange:function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e(c)},values:c}},f=n(440),O=(n(257),n(1));function h(e){var t,n=p(e.addItem),c=n.handleChange,a=n.handleSubmit;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{style:{color:"#ffb3b3"},children:"Add To Do Item"}),Object(O.jsxs)("form",{onSubmit:a,children:[Object(O.jsxs)("label",{style:{marginLeft:"1%"},children:[Object(O.jsx)("span",{style:{marginRight:"10px"},children:"To Do Item"}),Object(O.jsx)("input",{className:"bp3-input",style:{width:"70px"},placeholder:"Item Details",name:"text",type:"text",onChange:c})]}),Object(O.jsxs)("label",{style:{marginLeft:"1%"},children:[Object(O.jsx)("span",{style:{marginRight:"10px"},children:"Assigned To"}),Object(O.jsx)("input",(t={style:{marginRight:"10px"},className:"bp3-input"},Object(b.a)(t,"style",{width:"70px"}),Object(b.a)(t,"placeholder","Assignee Name"),Object(b.a)(t,"name","assignee"),Object(b.a)(t,"type","text"),Object(b.a)(t,"onChange",c),t))]}),Object(O.jsxs)("label",{style:{marginLeft:"1%"},children:[Object(O.jsx)("span",{style:{marginRight:"10px"},children:"Difficulty"}),Object(O.jsx)("input",{style:{marginRight:"10px"},name:"difficulty",min:1,max:5,type:"range",onChange:c,defaultValue:3})]}),Object(O.jsx)("label",{children:Object(O.jsx)(f.a,{style:{backgroundColor:"#ffb3b3"},type:"submit",children:"Add Item"})})]})]})}var m=n(26),g=i.a.createContext();var x=function(e){var t=Object(o.useState)(4),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)(!0),r=Object(j.a)(s,2),i=r[0],l=r[1],u={completed:i,pageItems:c,setCompleted:l,setPageItems:a};return Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("setting"));e&&(a(Number(e.pageItems)),l(i))}),[]),Object(o.useEffect)((function(){console.log(c)}),[c]),Object(O.jsx)(g.Provider,{value:u,children:e.children})};var v=function(e){var t=Object(o.useContext)(g),n=Object(o.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1],r=Object(o.useState)(1),i=Object(j.a)(r,2),l=i[0],u=i[1],b=Object(o.useState)(Math.ceil(e.list.length/t.pageItems)),d=Object(j.a)(b,2),p=d[0],h=d[1];return Object(o.useEffect)((function(){var n=(l-1)*t.pageItems,c=n+t.pageItems;h(Math.ceil(e.list.length/t.pageItems)),s(e.list.slice(n,c))}),[e.list.length]),Object(o.useEffect)((function(){if(t.completed){var n=(l-1)*t.pageItems,c=n+t.pageItems;s(e.list.slice(n,c)),h(Math.ceil(e.list.length/t.pageItems))}else{var a=e.list.filter((function(e){return!1===e.complete})),r=(l-1)*t.pageItems,o=r+settingsContext.pageItems;s(a.slice(r,o)),h(Math.ceil(a.length/t.pageItems))}}),[l,t.Completed]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.a,{style:{marginLeft:"18px",backgroundColor:"#ffb3b3"},onClick:function(){t.setCompleted(!t.Completed)},children:t.completed.toString()}),Object(O.jsxs)("div",{style:{marginLeft:"10%"},children:[a.map((function(t){return Object(O.jsxs)(f.b,{style:{width:"30%",marginBottom:"5px",backgroundColor:"#ffb3b3"},interactive:!0,elevation:m.a.TWO,children:[Object(O.jsx)("p",{children:t.text}),Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:["Assigned to: ",t.assignee]})}),Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:["Difficulty: ",t.difficulty]})}),Object(O.jsxs)("div",{onClick:function(){return e.toggleComplete(t._id)},children:["Complete: ",t.complete.toString()]}),Object(O.jsx)("button",{onClick:function(){return e.deleteItem(t._id)},children:"Delete"})]},t.id)})),l>1&&Object(O.jsx)(f.a,{style:{backgroundColor:"#ffb3b3"},onClick:function(){u(l-1)},children:"prev"}),function(){for(var e=[],t=function(t){e.push(Object(O.jsx)(f.a,{style:{backgroundColor:"#ffb3b3"},onClick:function(){u(t)},children:t},t))},n=1;n<=p;n++)t(n);return e}(),l<p&&Object(O.jsx)(f.a,{style:{backgroundColor:"#ffb3b3"},onClick:function(){u(l+1)},children:"next"})]})]})},y=n(27),C=n.n(y),I=n(49),k=n(96),S=n.n(k),w=n(184),D=n.n(w),N=n(185),E=n.n(N),T=n(186),R=n.n(T),L=n(28),U=n.n(L),A="https://auth-server-401.herokuapp.com",P=i.a.createContext();function _(e){var t=Object(o.useState)(!1),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)({}),r=Object(j.a)(s,2),i=r[0],l=r[1],u=Object(o.useState)(null),b=Object(j.a)(u,2),d=(b[0],b[1]);function p(e){"undefined"!==e&&"null"!==e?f(!0,e,D.a.decode(e)):(f(!1,null,{}),console.log("Validation Error Token "))}function f(e,t,n){S.a.save("auth",t),d(t),l({user:n}),a(e)}function h(){return(h=Object(I.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(A,"/signin")).set("authorization","Basic ".concat(R.a.encode("".concat(t,":").concat(n))));case 3:p(e.sent.body.token),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("LOGIN ERROR",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=Object(I.a)(C.a.mark((function e(t,n,c,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("".concat(A,"/signup"),{email:t,username:n,password:c,role:a});case 3:p(e.sent.data.token),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Sign Up Error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(o.useEffect)((function(){p(S.a.load("auth"))}),[]);var g={loggedIn:c,user:i,setLoggedIn:a,signIn:function(e,t){return h.apply(this,arguments)},signOut:function(){f(!1,null,{})},signUp:function(e,t,n,c){return m.apply(this,arguments)},setUser:l};return Object(O.jsx)(P.Provider,{value:g,children:e.children})}var F=n(21);function q(){var e=Object(o.useContext)(P),t=Object(o.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)(""),r=Object(j.a)(s,2),i=r[0],l=r[1],u=Object(o.useState)(""),b=Object(j.a)(u,2),d=b[0],p=(b[1],Object(o.useState)("user")),h=Object(j.a)(p,2),m=h[0],g=h[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(F.b,{condition:e.loggedIn,children:[Object(O.jsx)(F.c,{children:Object(O.jsx)("div",{})}),Object(O.jsx)(F.a,{children:Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.signUp(d,c,i,m)},children:[Object(O.jsx)("input",{required:!0,type:"text",placeholder:"Username",name:"username",onChange:function(e){a(e.target.value)}}),Object(O.jsx)("input",{required:!0,type:"password",placeholder:"Password",name:"password",onChange:function(e){l(e.target.value)}}),Object(O.jsx)("input",{placeholder:"Role",name:"role",onChange:function(e){g(e.target.value)}}),Object(O.jsx)(f.a,{style:{backgroundColor:"#ffb3b3"},type:"submit",children:"Sign Up"})]})})]})})}function J(){var e=Object(o.useContext)(P),t=Object(o.useState)({username:"",password:""}),n=Object(j.a)(t,2),c=n[0],a=n[1];function s(e){var t=e.target.value,n=e.target.name;a(Object(d.a)(Object(d.a)({},c),{},Object(b.a)({},n,t)))}return Object(O.jsx)("div",{children:Object(O.jsxs)(F.b,{condition:e.loggedIn,children:[Object(O.jsx)(F.c,{children:Object(O.jsx)(f.a,{onClick:e.signOut,children:" Sign Out "})}),Object(O.jsx)(F.a,{children:Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.signIn(c.username,c.password)},children:[Object(O.jsx)("input",{required:!0,type:"text",placeholder:"UserName",name:"username",onChange:s}),Object(O.jsx)("input",{required:!0,type:"password",placeholder:"Password",name:"password",onChange:s}),Object(O.jsx)("button",{style:{backgroundColor:"#ffb3b3"},type:"submit",children:"Sign In"})]})})]})})}var M=n(441),B=n(439);var V=function(e){return Object(O.jsx)(i.a.Fragment,{children:Object(O.jsx)(M.a,{bg:e.color,variant:"dark",children:Object(O.jsx)(B.a,{children:Object(O.jsxs)("h1",{style:{color:"#ffb3b3"},children:["There are ",e.list.filter((function(e){return!e.complete})).length," Items To Complete"]})})})})};n(434);var z=function(){var e=Object(o.useContext)(g),t=Object(o.useState)(!0),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)(1),r=Object(j.a)(s,2),i=r[0],l=r[1];return Object(o.useEffect)((function(){var t={pageItems:e.pageItems,completed:e.completed};e.pageItems&&localStorage.setItem("setting",JSON.stringify(t))}),[e]),Object(O.jsxs)("form",{className:"options",onSubmit:function(t){!function(t){t.preventDefault(),e.setPageItems(Number(i)),e.setCompleted(c)}(t)},children:[Object(O.jsx)(f.c,{style:{color:"#ffb3b3"},children:"Options"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{style:{width:"10%"},children:"number of items per page"}),Object(O.jsx)("input",{className:"bp3-input",style:{width:"70px"},name:"items",type:"number",placeholder:1,value:i,min:1,onChange:function(e){l(Number(e.target.value))}})]}),Object(O.jsx)("div",{style:{height:"40px"},children:Object(O.jsxs)("label",{class:"bp3-control bp3-checkbox .bp3-align-left",children:[Object(O.jsx)("input",{name:"view",type:"checkbox",onChange:function(e){e.target.checked,a(e.target.checked)}}),Object(O.jsx)("span",{class:"bp3-control-indicator"}),"view completed items"]})}),Object(O.jsx)(f.a,{style:{backgroundColor:"#ffb3b3"},type:"submit",children:"submit"})]})},G=n(190),W="https://api-js401.herokuapp.com/api/v1/todo";var H=function(){var e=Object(o.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1];function a(){return(a=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.delete("".concat(W,"/").concat(t));case 2:return n=e.sent,console.log(n),e.next=6,U.a.get(W);case 6:a=e.sent.data.results,console.log(a),c(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){U.a.get(W,{headers:{mode:"cors",cache:"no-cache","Content-Type":"application/json"}}).then((function(e){return c(e.data.results)})).catch(console.error)}return Object(o.useEffect)(s,[]),[n,function(e){e.due=new Date,U.a.post(W,e,{headers:{mode:"cors",cache:"no-cache","Content-Type":"application/json"}}).then((function(e){c([].concat(Object(G.a)(n),[e.data]))})).catch(console.error)},function(e){return a.apply(this,arguments)},function(e){var t=n.filter((function(t){return t._id===e}))[0]||{};if(t._id){t.complete=!t.complete;var a="".concat(W,"/").concat(e);U.a.put(a,t,{headers:{mode:"cors",cache:"no-cache","Content-Type":"application/json"}}).then((function(e){c(n.map((function(n){return n._id===t._id?e.data:n})))})).catch(console.error)}},s]},K=function(){var e=Object(o.useContext)(P),t=Object(o.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],s=H(),r=Object(j.a)(s,5),i=r[0],l=r[1],u=r[2],b=r[3];r[4];return Object(o.useEffect)((function(){var e=i.filter((function(e){return!e.complete})).length;a(e),document.title="To Do List : ".concat(c)}),[i]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{style:{color:"#ffb3b3"},children:"To Do App"}),Object(O.jsx)(J,{})," ",Object(O.jsx)(q,{}),Object(O.jsxs)(F.b,{condition:e.loggedIn,children:[Object(O.jsxs)(F.c,{children:[Object(O.jsx)(V,{list:i}),Object(O.jsxs)("section",{className:"todo",children:[Object(O.jsx)("div",{children:Object(O.jsx)(z,{})}),Object(O.jsx)("div",{children:Object(O.jsx)(h,{addItem:l})}),Object(O.jsx)("div",{children:Object(O.jsx)(v,{list:i,toggleComplete:b,deleteItem:u})})]})]}),Object(O.jsx)(F.a,{children:Object(O.jsx)("div",{})})]})]})};function Q(){return Object(O.jsx)(i.a.Fragment,{children:Object(O.jsx)(x,{children:Object(O.jsx)(_,{children:Object(O.jsx)(K,{})})})})}var X=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(O.jsx)(Q,{})}}]),n}(i.a.Component),Y=document.getElementById("root");u.a.render(Object(O.jsx)(X,{}),Y)}},[[435,1,2]]]);
//# sourceMappingURL=main.2fe2e6a4.chunk.js.map